import{r as t,u as b,a as s,F as o,j as n,L as m,c as i,f as p}from"./index-adb3a795.js";function M(){const[c,f]=t.exports.useState(""),[u,v]=t.exports.useState(""),d=b(),[S,x]=t.exports.useState(""),[g,w]=t.exports.useState("");function N(){const[e,a]=t.exports.useState(null);return t.exports.useEffect(()=>{i.onAuthStateChanged(r=>{r&&a(r.uid)})},[]),e}N();function C(){const[e,a]=t.exports.useState(null);return t.exports.useEffect(()=>{i.onAuthStateChanged(r=>{r?p.collection("rider").doc(r.uid).get().then(l=>{a(l.data().FullName)}):a(null)})},[]),e}function E(){const[e,a]=t.exports.useState(null);return t.exports.useEffect(()=>{i.onAuthStateChanged(r=>{r?p.collection("manager").doc(r.uid).get().then(l=>{a(l.data().FullName)}):a(null)})},[]),e}const U=E(),h=C();return console.log(h),s(o,{children:["  ",n("div",{children:n(m,{to:"/",children:" return to home "})}),s("form",{className:"form-login",onSubmit:e=>{e.preventDefault(),i.signInWithEmailAndPassword(c,u).then(()=>{h?d("/driver"):U&&d("/admin")}).catch(a=>x(a.message))},children:[n("h3",{children:" Please log in to your existing account "}),s("div",{children:[s("div",{children:["  ",n("input",{type:"email",placeholder:"Email",className:"input-login",onChange:e=>f(e.target.value),value:c,required:!0})," "]}),s("div",{children:["  ",n("input",{type:"text",placeholder:"Password",className:"input-login",onChange:e=>v(e.target.value),value:u,required:!0})," "]}),s("div",{className:"btnLogin",children:[n("button",{className:"btn-login",children:" LOGIN"}),s("div",{className:"login-signup",children:["  ",n(m,{className:"logindec",to:"/Signup",children:"SIGNUP"})," "]})]})]}),n("div",{className:"loginmsg",children:g&&s(o,{children:[s("p",{children:[" ",g]})," "]})}),n("div",{className:"loginmsg",children:S&&s(o,{children:[n("div",{children:" Invalid email or password"})," "]})})]})]})}export{M as default};
